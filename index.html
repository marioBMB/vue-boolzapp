<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzapp</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
</head>
<body>
    
    <div id="myapp">

        <header>
            
            <div class="container">

                <div id="user-panel" class='left'>

                    <div class='user-panel-content'>
                        <div class="user-info">
                            <div class="img-box">
                                <img :src="'img/image'+user.avatar+'.png'" alt="">
                            </div>
                            <h4 id='username'>{{user.name}}</h4>
                        </div>
                        <div class="options">
                            <i class="fas fa-circle-notch"></i>
                            <i class="fas fa-comment-alt"></i>
                            <i class="fas fa-ellipsis-v"></i>
                        </div>
                    </div>

                    <aside id="chat-list">
                        
                        <div id="notifications" class='entry'>
                            <div class="img-box">
                                <i class="fas fa-bell-slash"></i>
                            </div>
                            <div class="text">
                                <h4>Ricevi notifiche di nuovi messaggi</h4>
                                <a href="" class='meta'>Attiva notifiche desktop</a>
                            </div>
                        </div>

                        <div id="chat-search">
                            <div class="input-box">
                                <label for="search"><i class="fas fa-search"></i></label>
                                <input id='search' type="text" placeholder="Cerca o inizia una nuova chat">
                            </div>
                        </div>
                        
                        <ul>
                            <li v-for="(contact,index) in contacts" class='entry' :class='{active: index == activeContact}'
                            @click="setactive(index)">
                                <div class="img-box">
                                    <img :src="'img/image'+contact.avatar+'.png'" alt="">
                                </div>
                                <div class="entry-info">
                                    <time class='meta'>{{contact.messages[contact.messages.length - 1].date}}</time>
                                    <div class='entry-name'>{{contact.name}}</div>
                                    <span class='message-preview meta'>{{contact.messages[contact.messages.length - 1].text}}</span>
                                </div>
                            </li>
                        </ul>
                    </aside>
                </div>
                <div id="chat-panel" class='right'>
                    <div class='user-info'>
                        <div class="img-box">
                            <img :src="'img/image'+contacts[activeContact].avatar+'.png'" alt="">
                        </div>
                        <div class="user-meta">
                            <h4 class='username'>{{contacts[activeContact].name}}</h4>
                            <div class="latest-access meta">Ultimo accesso oggi alle 
                                {{contacts[activeContact].messages[contacts[activeContact].messages.length - 1].date}}
                            </div>
                        </div>
                    </div>

                    <div class="options">
                        <i class="fas fa-search"></i>
                        <i class="fas fa-paperclip"></i>
                        <i class="fas fa-ellipsis-v"></i>
                    </div>
                </div>
            </div>
            
        </header>
        
        
        <main>
            <div class="container">
                <div class="left"></div>
                <div id="chat">

                    <div class="messages">

                        <div v-for='message in contacts[activeContact].messages' class="message" :class="message.status">
                            <span class='text'>{{message.text}}</span>
                            <time class='meta'>{{message.time}}</time>
                        </div>

                    </div>

                    <div id="input-bar">
                        <i class="far fa-smile fa-2x"></i>
                        <input type="text" placeholder="Scrivi un messaggio...">
                        <i class="fas fa-microphone fa-2x"></i>
                    </div>
                </div>
            </div>
        </main>

        
        
        
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="main.js"></script>
</body>
</html>